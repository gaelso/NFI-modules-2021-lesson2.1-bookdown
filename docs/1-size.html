<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Sampling size | NFI eLearning Practice Simulation</title>
  <meta name="description" content="1 Sampling size | NFI eLearning Practice Simulation" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="1 Sampling size | NFI eLearning Practice Simulation" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Sampling size | NFI eLearning Practice Simulation" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction.html"/>
<link rel="next" href="2-sys.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html"><b>NFI eLearning Practice Lesson 2.1</b></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Cover page</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="1-size.html"><a href="1-size.html"><i class="fa fa-check"></i><b>1</b> Sampling size</a></li>
<li class="chapter" data-level="2" data-path="2-sys.html"><a href="2-sys.html"><i class="fa fa-check"></i><b>2</b> Systematic sampling</a>
<ul>
<li class="chapter" data-level="" data-path="2-sys.html"><a href="2-sys.html#grid-spacing"><i class="fa fa-check"></i>Grid spacing</a></li>
<li class="chapter" data-level="" data-path="2-sys.html"><a href="2-sys.html#create-grid-points"><i class="fa fa-check"></i>Create grid points</a>
<ul>
<li class="chapter" data-level="" data-path="2-sys.html"><a href="2-sys.html#how-to-create-grids"><i class="fa fa-check"></i>How to create grids</a></li>
<li class="chapter" data-level="" data-path="2-sys.html"><a href="2-sys.html#how-to-create-aligned-sampling-points"><i class="fa fa-check"></i>How to create aligned sampling points</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="2-sys.html"><a href="2-sys.html#visualize"><i class="fa fa-check"></i>Visualize</a></li>
<li class="chapter" data-level="" data-path="2-sys.html"><a href="2-sys.html#calculate-the-number-of-plots-per-land-cover-class"><i class="fa fa-check"></i>Calculate the number of plots per land cover class</a></li>
<li class="chapter" data-level="" data-path="2-sys.html"><a href="2-sys.html#systematic-sampling-recap"><i class="fa fa-check"></i>Systematic sampling: Recap</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-sys3.html"><a href="3-sys3.html"><i class="fa fa-check"></i><b>3</b> Systematic sampling: 3 x 3 km grid</a></li>
<li class="chapter" data-level="4" data-path="4-ran.html"><a href="4-ran.html"><i class="fa fa-check"></i><b>4</b> Random Sampling</a>
<ul>
<li class="chapter" data-level="" data-path="4-ran.html"><a href="4-ran.html#demo"><i class="fa fa-check"></i>Demo</a></li>
<li class="chapter" data-level="" data-path="4-ran.html"><a href="4-ran.html#practice"><i class="fa fa-check"></i>Practice</a></li>
<li class="chapter" data-level="" data-path="4-ran.html"><a href="4-ran.html#proportion-of-plots-per-forest-type"><i class="fa fa-check"></i>Proportion of plots per forest type</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i>Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://rise.articulate.com/share/R7P0qbZvrtsqIOshAMhXz1RzNXkrGlSc#/" target="blank"><b>NFI eLearning modules</b></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NFI eLearning Practice Simulation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="size" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Sampling size</h1>
<div class="watermark">
DRAFT
</div>
<p>Remember in the NFI module 3, the formula to estimate the <strong>sampling size <code>n</code></strong>, based on Simple Random Sample (SRS), is:</p>
<p><span class="math display">\[n = \left(\frac{CV \cdot t^{1 - \alpha/2}_{n-1}}{A}\right)^2 \sim \left(\frac{CV \cdot 1.96}{A}\right)^2\]</span>
with:</p>
<ul>
<li><span class="math inline">\(CV = s / \overline{y} \times 100\)</span> the NFI main variable coefficient of variation expressed as percentage,</li>
<li><span class="math inline">\(s\)</span> and <span class="math inline">\(\overline{y}\)</span> the samples main variable’s standard deviation and average respectively,</li>
<li><span class="math inline">\(A\)</span> the desired precision in percentage, and</li>
<li><span class="math inline">\(t^{1 - \alpha/2}_{n-1}\)</span> the Student’s t-value with <span class="math inline">\(n-1\)</span> degrees of freedom and <span class="math inline">\(1-\frac{\alpha}{2}\)</span> confidence level where <span class="math inline">\(\alpha\)</span> is the significance level. This value is approximated by the value 1.96 when assuming an infinite sample and 0.95 confidence level (two tails <span class="math inline">\(\alpha\)</span> = 0.05).</li>
</ul>
<p> </p>
<p>Thanks to the results of the preliminary forest inventory (<code>exfi_agb</code>), we have an estimate of <span class="math inline">\(\overline{y}\)</span> and <span class="math inline">\(s\)</span> for a forest stand in <code>Louland</code>. While this stand is most likely not representative of the whole island, we can use it to make an estimate of the number of samples necessary to achieve various target precision values. The final number of plots will depend on the desired precision and your budget constraints. In case of systematic sampling we can add an additional constraint: we want the NFI grid size in km to be an integer number (i.e. 1, 2, 3. etc.).</p>
<p>We had a look at the table <code>exfi_agb</code> in Lesson 1, let’s show it again to remind ourselves the inventory’s mean aboveground biomass <code>mean_agb</code> and it’s standard deviation <code>sd_agb</code>. Run the table name in the console below.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r Rchunk-cons"><code class="sourceCode r"><span id="cb2-1"><a href="1-size.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Console</span></span>
<span id="cb2-2"><a href="1-size.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r Rchunk-sol"><code class="sourceCode r"><span id="cb3-1"><a href="1-size.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Solution</span></span>
<span id="cb3-2"><a href="1-size.html#cb3-2" aria-hidden="true" tabindex="-1"></a>exfi_agb</span></code></pre></div>
<pre class="Rout-sol"><code># A tibble: 1 x 8
  n_plot n_tree mean_ba sd_ba mean_agb sd_agb    ci ci_perc
   &lt;int&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;
1     10    525    23.8  19.5     202.   181.  112.      55</code></pre>
<p>The table contains aggregated information on the number of trees measured, the average basal area (BA) in m<sup>2</sup>/ha and aboveground biomass (AGB) in ton/ha. The aboveground biomass is associated with its confidence interval in ton/ha and in percentage.</p>
<p>What is the average aboveground biomass in ton/ha in the preliminary forest inventory?</p>
<div class="question">
<p><em>Multiple choices</em></p>
<ol style="list-style-type: decimal">
<li><strong>202</strong></li>
<li>525</li>
<li>112</li>
<li>181</li>
</ol>
</div>
<p>Back to calculating a sampling size, let’s first calculate the number of samples for different precision levels. For a 5% precision, the number of samples is:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="1-size.html#cb5-1" aria-hidden="true" tabindex="-1"></a>n05 <span class="ot">&lt;-</span> <span class="fu">round</span>(((exfi_agb<span class="sc">$</span>sd_agb <span class="sc">/</span> exfi_agb<span class="sc">$</span>mean_agb <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">*</span> <span class="fl">1.96</span> <span class="sc">/</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb5-2"><a href="1-size.html#cb5-2" aria-hidden="true" tabindex="-1"></a>n05</span></code></pre></div>
<pre class="Rout-demo"><code>[1] 1224</code></pre>
<p> </p>
<p><strong>Your turn, calculate <code>n10</code>, <code>n15</code> and <code>n20</code>, the number of samples necessary to get respectively 10%, 15% and 20% precision on <code>Louland</code>’s mean aboveground biomass.</strong></p>
<p>Calculations for 10% here:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r Rchunk-cons"><code class="sourceCode r"><span id="cb7-1"><a href="1-size.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Console</span></span>
<span id="cb7-2"><a href="1-size.html#cb7-2" aria-hidden="true" tabindex="-1"></a>n10 <span class="ot">&lt;-</span> <span class="fu">round</span>(((exfi_agb<span class="sc">$</span>sd_agb <span class="sc">/</span> exfi_agb<span class="sc">$</span>mean_agb) <span class="sc">*</span> ___ <span class="sc">/</span> ___)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb7-3"><a href="1-size.html#cb7-3" aria-hidden="true" tabindex="-1"></a>n10</span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r Rchunk-sol"><code class="sourceCode r"><span id="cb8-1"><a href="1-size.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Solution</span></span>
<span id="cb8-2"><a href="1-size.html#cb8-2" aria-hidden="true" tabindex="-1"></a>n10 <span class="ot">&lt;-</span> <span class="fu">round</span>(((exfi_agb<span class="sc">$</span>sd_agb <span class="sc">/</span> exfi_agb<span class="sc">$</span>mean_agb <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">*</span> <span class="fl">1.96</span> <span class="sc">/</span> <span class="dv">10</span>)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb8-3"><a href="1-size.html#cb8-3" aria-hidden="true" tabindex="-1"></a>n10</span></code></pre></div>
<pre class="Rout-sol"><code>[1] 306</code></pre>
<p> </p>
<p>Calculations for 15% here:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r Rchunk-cons"><code class="sourceCode r"><span id="cb10-1"><a href="1-size.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Console</span></span>
<span id="cb10-2"><a href="1-size.html#cb10-2" aria-hidden="true" tabindex="-1"></a>n15 <span class="ot">&lt;-</span> <span class="fu">round</span>(((___ <span class="sc">/</span> ___) <span class="sc">*</span> ___ <span class="sc">/</span> ___)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb10-3"><a href="1-size.html#cb10-3" aria-hidden="true" tabindex="-1"></a>n15</span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r Rchunk-sol"><code class="sourceCode r"><span id="cb11-1"><a href="1-size.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Solution</span></span>
<span id="cb11-2"><a href="1-size.html#cb11-2" aria-hidden="true" tabindex="-1"></a>n15 <span class="ot">&lt;-</span> <span class="fu">round</span>(((exfi_agb<span class="sc">$</span>sd_agb <span class="sc">/</span> exfi_agb<span class="sc">$</span>mean_agb <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">*</span> <span class="fl">1.96</span> <span class="sc">/</span> <span class="dv">15</span>)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb11-3"><a href="1-size.html#cb11-3" aria-hidden="true" tabindex="-1"></a>n15</span></code></pre></div>
<pre class="Rout-sol"><code>[1] 136</code></pre>
<p> </p>
<p>Calculations for 20% here:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r Rchunk-cons"><code class="sourceCode r"><span id="cb13-1"><a href="1-size.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Console</span></span>
<span id="cb13-2"><a href="1-size.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r Rchunk-sol"><code class="sourceCode r"><span id="cb14-1"><a href="1-size.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Solution</span></span>
<span id="cb14-2"><a href="1-size.html#cb14-2" aria-hidden="true" tabindex="-1"></a>n20 <span class="ot">&lt;-</span> <span class="fu">round</span>(((exfi_agb<span class="sc">$</span>sd_agb <span class="sc">/</span> exfi_agb<span class="sc">$</span>mean_agb <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">*</span> <span class="fl">1.96</span> <span class="sc">/</span> <span class="dv">20</span>)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb14-3"><a href="1-size.html#cb14-3" aria-hidden="true" tabindex="-1"></a>n20</span></code></pre></div>
<pre class="Rout-sol"><code>[1] 77</code></pre>
<p> </p>
<p>Well done! <strong>We have enough budget for around 300 plots</strong>. What precision can we afford?</p>
<div class="question">
<p><em>Multiple choices</em></p>
<ol style="list-style-type: decimal">
<li>5%</li>
<li><strong>10%</strong></li>
<li>15%</li>
<li>20%</li>
</ol>
</div>
<p> </p>

<div style="page-break-after: always;"></div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="2-sys.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"info": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
